---
title: "TypeScriptã®ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ï¼ type-challenges ã® easy ã§å­¦ã‚“ã ã“ã¨"
emoji: "ğŸ§©"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [typescript]
published: true
---
ã“ã®è¨˜äº‹ã¯ã€[TypeScript Advent Calendar 2022](https://qiita.com/advent-calendar/2022/typescript) ã®15æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚

# ã“ã®è¨˜äº‹ã®æ¦‚è¦

TypeScript ãƒ“ã‚®ãƒŠãƒ¼ã®ç­†è€…ãŒ TypeScript ã‚’ã‚ˆã‚Šç†è§£ã™ã‚‹ã®ã«å½¹ç«‹ã£ãŸã€ type-challenges ã‚’ç´¹ä»‹ã™ã‚‹è¨˜äº‹ã§ã™ã€‚
type-challenges ã¯ãƒ¬ãƒ™ãƒ«åˆ†ã‘ã•ã‚ŒãŸå•é¡Œé›†ã§ã™ã€‚å•é¡Œå½¢å¼ã§æ¥½ã—ã¿ãªãŒã‚‰å­¦ã¶ã“ã¨ãŒã§ãã¾ã™ã€‚

ã“ã®è¨˜äº‹ã®å‰åŠã§ã¯ã€type-challenges ã® easy ã«ã¯ã©ã‚“ãªå•é¡ŒãŒã‚ã‚‹ã‹ã¨ã€ä½•ãŒå­¦ã¹ã‚‹ã‹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

å¾ŒåŠã§ã¯ã€å•é¡Œã‚’è§£ãã®ã«ã‚ˆãä½¿ã£ãŸãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ç°¡å˜ã«è§£èª¬ã—ã¾ã™ã€‚

https://github.com/type-challenges/type-challenges

# type-challenges easy ã§ä½•ãŒå­¦ã¹ã‚‹ã‹

## ã©ã‚“ãªå•é¡ŒãŒã‚ã‚‹ã‹

easy ã¯å…¨éƒ¨ã§ 13 å•ã‚ã‚Šã¾ã™ã€‚ï¼ˆåŸ·ç­†æ™‚ç‚¹ï¼‰
èª²é¡Œã¯ã€ä»¥ä¸‹ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å‹ã®å®Ÿè£…ã‚’è¡Œã†ã“ã¨ã§ã™ã€‚

-  `Pick<T, K>` ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å‹ (4 - Pick)
- `Readonly<T>` ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å‹ (7 - ReadOnly)
-  é…åˆ—ã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹ã«å¤‰æ›ã™ã‚‹ã€`TupleToObject<T>` ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å‹ (11 - Tuple to Object)
-  é…åˆ—ã®æœ€åˆã®è¦ç´ ã‚’è¿”ã™ã€`First<T>` ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å‹ (14 - First)
-  é…åˆ—ã® length ã‚’è¿”ã™ã€`Length<T>` ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å‹ (18 - Length of Tuple)
-  `Exclude<T, U>` ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å‹ (43 - Exclude)
-  `Awaited<T>` ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å‹ (189 - Awaited)
-  `If<C, T, F>` ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å‹ ï¼ˆ `C` ãŒçœŸå½å€¤ã€ truthy ã®å ´åˆ `T` ã‚’è¿”ã—ã€ falsy ã®å ´åˆ `F` ã‚’è¿”ã™ ï¼‰(268 - If)
-  `Array.concat()` ã®å‹ç‰ˆ (533 - Concat)
-  `Array.includes()` ã®å‹ç‰ˆ (898 - Includes)
-  `Array.push()` ã®å‹ç‰ˆ (3057 - Push)
-  `Array.unshift()` ã®å‹ç‰ˆ (3060 - Unshift)
-  `Parameters<T>` ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å‹ (3312 - Parameters)

## å­¦ã‚“ã ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯

ã¾ãšã€ Generics ã¯å…¨ã¦ã®å•é¡Œã§ä½¿ã†ã®ã§ã€ Generics ã‚’å®Ÿè·µç·´ç¿’ã—ãŸã„ã¨ã„ã†æ–¹ã«ã¯ã‚‚ã£ã¦ã“ã„ã§ã™ã€‚
ä»¥ä¸‹ã«ã€å•é¡Œã‚’è§£ãã®ã«ã‚ˆãä½¿ã£ãŸãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ã“ã“ã§ã¯ã€ç”¨èªã®ç´¹ä»‹ã®ã¿ã«ã¨ã©ã‚ã€è§£èª¬ã¯æ¬¡ã®ç« ã§è¡Œã„ã¾ã™ã€‚

- Generic Constraints
- `readonly` modifier
- Mapped Types
- Indexed Access Types
- Conditional types
  - `never` ã«ã‚ˆã‚‹ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
  - `infer` ã«ã‚ˆã‚‹å‹æ¨è«–
- Variadic Tuple Types

ã€Œãªã«ãã‚Œ ğŸ¤”ã€ã£ã¦ãªã£ãŸç”¨èªãŒã‚ã£ãŸæ–¹ã¯ã€ãœã² type-challenges ã«æŒ‘æˆ¦ã—ã¦ã¿ã¦ãã ã•ã„ï¼

# ã‚ˆãä½¿ã‚ã‚ŒãŸãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã®è§£èª¬

ã“ã“ã‹ã‚‰ã¯ type-challenges ã® easy ã§ã‚ˆãä½¿ã£ãŸãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ç°¡å˜ã«è§£èª¬ã—ã¾ã™ã€‚
è¡¨é¢çš„ãªè§£èª¬ã«ãªã‚Šã¾ã™ã®ã§ã€è©³ã—ãã¯å‚ç…§ãƒªãƒ³ã‚¯ã‚’ã”ç¢ºèªãã ã•ã„ã€‚

## Generic Constraints

Generic Constraints ã¯ã€`extends` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦ã€Generics ã®å‹ã‚’ç‰¹å®šã®å‹ã«é™å®šã™ã‚‹æ–¹æ³•ã§ã™ã€‚

ä¾‹ãˆã°ä»¥ä¸‹ã®ä¾‹ã®ã‚ˆã†ãªã§å½¹ã«ç«‹ã¡ã¾ã™ã€‚

*ä¾‹ï¼šGenerics `T` ã‚’å‹ã«æŒã¤ `arg` ãŒ `length` method ã‚’å‘¼ã³å‡ºã—ã¦ã„ã‚‹ãŒã€Generics ã¯ä»»æ„ã®æ–¹ãŒæŒ‡å®šå¯èƒ½ãªã®ã§ï¼ˆ`length` ã‚’æŒãŸãªã„å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§)ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ãŒèµ·ãã¦ã—ã¾ã†ã€‚*
```ts
function checkLength<T>(arg: T): number {
  // Error: Property 'length' does not exist on type 'T'.
  return arg.length;
}
```

ã“ã®ã‚ˆã†ãªéš›ã«ã€`extends` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ã€Generics å‹å¼•æ•°ã®å‹ã‚’ç‰¹å®šã®å‹ã«é™å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ï¼ˆGeneric Constraintsï¼‰
ã“ã‚Œã«ã‚ˆã‚Šå®‰å…¨ã«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```ts
function checkLength<T extends string>(arg: T): number {
  return arg.length;
}
```

https://www.typescriptlang.org/docs/handbook/2/generics.html#generic-constraints

### `keyof` å‹æ¼”ç®—å­ã¨ã®çµ„ã¿åˆã‚ã›

Generic Constraints ã¯ã€ `keyof` å‹æ¼”ç®—å­ã¨ã®çµ„ã¿åˆã‚ã›ã§ã‚‚ã‚ˆãä½¿ã„ã¾ã™ã€‚(`keyof` ã®è©³ç´°ã¯ä»¥ä¸‹å‚è€ƒãƒªãƒ³ã‚¯ã‚’ã”ç¢ºèªãã ã•ã„ã€‚)
ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€`getProperty` é–¢æ•°ã®ç¬¬äºŒå¼•æ•° `key` ã‚’ `K extends keyof T` ã¨ã™ã‚‹ã“ã¨ã«ã‚ˆã£ã¦ã€`T` å‹( `x` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚­ãƒ¼ã®ãƒ¦ãƒ‹ã‚ªãƒ³å‹ï¼‰ã«å­˜åœ¨ã™ã‚‹ã‚‚ã®ã®ã¿ã‚’å—ã‘ä»˜ã‘ã‚‹ã‚ˆã†ã«å‹åˆ¶é™ã‚’ã—ã¦ã„ã¾ã™ã€‚

```ts
function getProperty<T, K extends keyof T>(obj: T, key: K) {
  return obj[key];
}
// K => "a" | "b" | "c" | "d"
 
let x = { a: 1, b: 2, c: 3, d: 4 };
 
getProperty(x, "a");
getProperty(x, "m");
// Error: Argument of type '"m"' is not assignable to parameter of type '"a" | "b" | "c" | "d"'.
```

https://www.typescriptlang.org/docs/handbook/2/keyof-types.html


## `readonly` modifier

`readonly` modifier ã‚’ã¤ã‘ã‚‹ã“ã¨ã§ã€é…åˆ—ã‚„ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ä¾‹ï¼š `obj` foo ã¸ã®ä»£å…¥ã§ã‚¨ãƒ©ãƒ¼ãŒèµ·ãã‚‹ã€‚
```ts
let obj: {
  readonly foo: number;
};
obj = { foo: 1 };
obj.foo = 2;
// Error: Cannot assign to 'foo' because it is a read-only property.
```

ä¾‹ï¼š `a` ã¸ã®ä»£å…¥ã‚„ã€è¦ç´ ã®å¤‰æ›´ã§ã‚¨ãƒ©ãƒ¼ãŒèµ·ãã‚‹ã€‚
```ts
let a = readonly ['a', 'b', 'c'];
a.push('d'); // error
a[0] = 'x'; // error
```

https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes-func.html#readonly-and-const

## Mapped Types

Mapped Types ã¯ã€ãƒ¦ãƒ‹ã‚ªãƒ³å‹ã«å¯¾ã—ã¦ `in` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã†ã“ã¨ã§ã€ã‚­ãƒ¼ã‚’åå¾©ã—ã¦å‹ã‚’ä½œæˆã™ã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã§ã™ã€‚
ä»¥ä¸‹ä¾‹ã§ã¯ã€`AvialbleLanguage` ãƒ¦ãƒ‹ã‚ªãƒ³å‹ã«å¯¾ã—ã¦ `in` ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä½¿ã£ã¦ã€`HelloTranslation` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹ã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚

```ts
type AvailableLanguage = 'en' | 'jp';

type HelloTranslation = {
    [key in AvailableLanguage]: string;
}
/**
 * type HelloTranslation = {
 *   en: string;
 *   jp: string;
 * }
 */

const hello: HelloTranslation = {
    'en': 'hello', 
    'jp': 'ã“ã‚“ã«ã¡ã¯',
    'fr': 'bonjour',
    /**
     * Error: Type '{ en: string; jp: string; fr: string; }' is not assignable to type 'HelloTranslation'.
     *        Object literal may only specify known properties, and ''fr'' does not exist in type 'HelloTranslation'.
     */       
}
```

ãƒ¦ãƒ‹ã‚ªãƒ³å‹ã«å¯¾ã—ã¦ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’è¡Œã†ãŸã‚ã€`keyof` å‹æ¼”ç®—å­ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ãƒ¦ãƒ‹ã‚ªãƒ³å‹ã«ã—ã¦ã‹ã‚‰ã€`in` ã§åå¾©ã™ã‚‹ã¨ã„ã†ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚‚ã‚ˆãä½¿ã‚ã‚Œã¾ã™ã€‚

https://www.typescriptlang.org/docs/handbook/2/mapped-types.html#handbook-content

## Indexed Access Types

Indexed Access Types ã¯ã€JavaScript ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹æ–¹æ³•ã¨ä¼¼ã¦ã„ã¾ã™ã€‚
ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€`Cat` ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹ã®ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å‹ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã„ã¾ã™ã€‚

```ts
type Cat = { age: number; name: string; alive: boolean };
type Age = Cat["age"];
// type Age = number;
```

ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å‹ã¯ã€ãã‚Œè‡ªä½“ãŒå‹ãªã®ã§ã€ãƒ¦ãƒ‹ã‚ªãƒ³å‹ã‚’ä½¿ã£ã¦è¤‡æ•°ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

```ts
type Cat = { age: number; name: string; alive: boolean };

type Type1 = Cat["age" | "name"];  
// type Type1 = string | number
type Type2 = Cat[keyof Cat];
// type Type2 = string | number | boolean
```

ã¾ãŸã€Indexed Access Type ã®ä¾¿åˆ©ãªãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã¨ã—ã¦ã€ã‚¿ãƒ—ãƒ«å‹ã«å¯¾ã—ã¦ `[number]` ã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚
ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¿ãƒ—ãƒ«å‹ã®è¦ç´ ã‚’ãƒ¦ãƒ‹ã‚ªãƒ³å‹ã¨ã—ã¦å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

```ts
type Animals = ['cat', 'dog', 'tiger', 'lion', 'elephant'];

type AnimalsUnion = Animals[number];
// type AnimalsUnion = 'cat' | 'dog' | 'tiger' | 'lion' | 'elephant'
```

ãƒ¦ãƒ‹ã‚ªãƒ³å‹ã‚’ç”Ÿæˆã™ã‚‹ã®ã§ã€ä¸Šè¨˜ã® Mapped types ã¨çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§å¨åŠ›ã‚’ç™ºæ®ã™ã‚‹ä¾¿åˆ©ãªãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã§ã™ã€‚

https://www.typescriptlang.org/docs/handbook/2/indexed-access-types.html

## Conditional types

Conditional types ã¯ã€JavaScriptã® `?` ã‚’ä½¿ã£ãŸ Ternary operator ã«ä¼¼ãŸå½¢ã§ã€`extend` ã¨ `?` ã‚’ä½¿ã£ã¦æ¡ä»¶ã¤ãã®å‹ã‚’ä½œæˆã§ãã¾ã™ã€‚

```ts
type True = true extends boolean ? true : false;
```

https://www.typescriptlang.org/docs/handbook/2/conditional-types.html#handbook-content

### `never` ã«ã‚ˆã‚‹ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

ç™ºç”Ÿã—å¾—ãªã„å€¤ã‚’æ„å‘³ã™ã‚‹ `never` ã‚’ã€ Conditional types ã®ãƒªã‚¿ãƒ¼ãƒ³ã¨ã—ã¦ä½¿ã†ã“ã¨ã§ã€å‹ã®çµã‚Šè¾¼ã¿ãŒã§ãã¾ã™ã€‚
ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€`AvailableLanguage` ã«å«ã¾ã‚Œãªã„ãƒ¦ãƒ‹ã‚ªãƒ³å‹ã®è¦ç´ ã¯ã€`never` ã«ã‚ˆã‚Šé™¤å¤–ã•ã‚Œã¦ã„ã¾ã™ã€‚

```ts
type AvailableLanguage = 'en' | 'jp';
type FilteredLanguage<T> = T extends AvailableLanguage ? T : never;
type Foo = FilteredLanguage<'en' | 'fr' | 'jp' | 'cn' | 'kr'>; 
// type Foo = "en" | "jp"
```

https://www.typescriptlang.org/docs/handbook/2/functions.html#never

### `infer` ã«ã‚ˆã‚‹å‹æ¨è«–

`infer` ã¯ Conditional types ã§ã€æ¡ä»¶ã«åˆè‡´ã—ãŸå‹ã‚’æ¨è«–ã™ã‚‹ãŸã‚ã«ä½¿ã‚ã‚Œã¾ã™ã€‚
ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€é–¢æ•°ã®è¿”ã‚Šå€¤ã®å‹ã‚’æ¨è«–ã—ã€`T` ãŒé–¢æ•°å‹ã§ã‚ã‚‹å ´åˆã«ã€ãã®è¿”ã‚Šå€¤ã‚’ `infer` ã§å–å¾—ã—ã¦ã„ã¾ã™ã€‚

```ts
type GetReturnType<T> = T extends (...args: unknown[]) => infer Return
  ? Return
  : never;

type Num = GetReturnType<() => number>;
// type Num = number 

type Str = GetReturnType<(x: string) => string>;     
// type Str = string
 
type Bools = GetReturnType<(a: boolean, b: boolean) => boolean[]>;   
// type Bools = boolean[]
```

https://www.typescriptlang.org/docs/handbook/2/conditional-types.html#inferring-within-conditional-types

## Variadic Tuple Types

Variadic Tuple Typesã¯ã€JavaScriptã®ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰æ§‹æ–‡ã®å‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚

```ts
type Strings = [string, string];
type Numbers = [number, number];
type StrStrNumNumBool = [...Strings, ...Numbers, boolean];
// type StrStrNumNumBool = [string, string, number, number, boolean]
```
https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-0.html#variadic-tuple-types

# ã¾ã¨ã‚

ã“ã®è¨˜äº‹ã§ã¯ã€ type-challenges ã® easy ã§ã©ã‚“ãªã“ã¨ãŒå­¦ã¹ã‚‹ã‹ã‚’ã¾ã¨ã‚ã¦ã¿ã¾ã—ãŸã€‚
TypeScript ã®å‹‰å¼·æ–¹æ³•ã‚’æ¢ã—ã¦ã„ã‚‹æ–¹ã€ãƒãƒ³ã‚ºã‚ªãƒ³ã§æ¥½ã—ãå­¦ã¹ã‚‹ type-challenges ãŠã™ã™ã‚ã§ã™ï¼
å„å•é¡Œã®å›ç­”ã€è§£èª¬ã‚‚ã—ã£ã‹ã‚Šã—ã¦ã„ã‚‹ã®ã§ã€ãœã²ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã¦ã¿ã¦ãã ã•ã„ï¼

ã“ã®è¨˜äº‹ã¯è‹±èªã§ã‚‚ã”è¦§ã„ãŸã ã‘ã¾ã™: https://takuyakikuchi.tech/level-up-on-typescript-what-i-learned-from-type-challenges